<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Insert</a></li>
                <li><a href="details.html">Details</a></li>
            </ul>
        </nav>
    </header>
    <div class="container">
        <h1>Placement Cell</h1>
        <p>Insert Student Details</p>

        <form id="placementform" onsubmit="submitForm(event)">
            <label for="roll">Roll No:</label>
            <input type="text" id="roll" name="roll" required>
            <span class="error" id="rollerror"></span>
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>
            <label for="branch">Branch:</label>
            <select id="branch" name="branch" required>
                <option value="">Select Branch</option>
                <option value="CSE">CSE</option>
                <option value="ECE">ECE</option>
                <option value="EEE">EEE</option>
                <option value="CE">CSD</option>
                <option value="IT">IT</option>
            </select>
            <label for="section">Section:</label>
            <select id="section" name="section" required>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
            </select>
            <label for="email">College Email:</label>
            <input type="email" id="cemail" name="cemail" required>
            <label for="pemail">Personal Email:</label>
            <input type="email" id="pemail" name="pemail" required>
            <label for="taddress">Temporary Address:</label>
            <textarea id="taddress" name="taddress" required></textarea>
            <label for="paddress">Permanent Address:</label>
            <textarea id="paddress" name="paddress" required></textarea>
            <label for="contact">Contact No:</label>
            <input type="text" id="contact" name="contact" required>
            <label for="whatsapp">Whatsapp No:</label>
            <input type="text" id="whatsapp" name="whatsapp" required>
            <label for="pname">Parent's Name:</label>
            <input type="text" id="pname" name="pname" required>
            <label for="pcontact">Parent's Contact No:</label>
            <input type="text" id="pcontact" name="pcontact" required>
            <label for="sslcpercentage">SSLC Percentage:</label>
            <input type="text" id="sslcpercentage" name="sslcpercentage" required>
            <label for="sslcboard">SSLC Board:</label>
            <select id="sslcboard" name="sslcboard" required>
                <option value="State Board">State Board</option>
                <option value="CBSE">CBSE</option>
            </select>
            <label for="hscpercentage">HSC Percentage:</label>
            <input type="text" id="hscpercentage" name="hscpercentage" required>
            <label for="hscboard">HSC Board:</label>
            <select id="hscboard" name="hscboard" required>
                <option value="State Board">State Board</option>
                <option value="CBSE">CBSE</option>
            </select>
            <label for="diploma">Diploma Mark:</label>
            <input type="text" id="diploma" name="diploma">
            <label for="sem1gpa">Sem 1 GPA:</label>
            <input type="text" id="sem1gpa" name="sem1gpa" required>
            <label for="sem1cgpa">Sem 1 CGPA:</label>
            <input type="text" id="sem1cgpa" name="sem1cgpa" required>
            <label for="sem2gpa">Sem 2 GPA:</label>
            <input type="text" id="sem2gpa" name="sem2gpa" required>
            <label for="sem2cgpa">Sem 2 CGPA:</label>
            <input type="text" id="sem2cgpa" name="sem2cgpa" required>
            <label for="sem3gpa">Sem 3 GPA:</label>
            <input type="text" id="sem3gpa" name="sem3gpa" required>
            <label for="history">History of Arrears:</label>
            <input type="text" id="history" name="history" required>
            <label for="arrears">No of Arrears:</label>
            <input type="text" id="arrears" name="arrears" required>
            <label for="currentarrears">Current Arrears:</label>
            <input type="text" id="currentarrears" name="currentarrears" required>
            <label for="projects">No. of Projects Done:</label>
            <input type="text" id="projects" name="projects" required>
            <label for="gitid">Github ID:</label>
            <input type="text" id="gitid" name="gitid" required>
            <label for="gitlink">Github Link:</label>
            <input type="text" id="gitlink" name="gitlink" required>
            <label for="linkedinid">Linkedin ID:</label>
            <input type="text" id="linkedinid" name="linkedinid" required>
            <label for="linkedinlink">Linkedin Link:</label>
            <input type="text" id="linkedinlink" name="linkedinlink" required>
            <label for="leetid">Leetcode ID:</label>
            <input type="text" id="leetid" name="leetid" required>
            <label for="leetlink">Leetcode Link:</label>
            <input type="text" id="leetlink" name="leetlink" required>
            <label for="probsolved">No. of Problems Solved:</label>
            <input type="text" id="probsolved" name="probsolved" required>
            <label for="hackid">Hackerrank ID:</label>
            <input type="text" id="hackid" name="hackid" required>
            <label for="hacklink">Hackerrank Link:</label>
            <input type="text" id="hacklink" name="hacklink" required>
            <label for="certifications">No. of Certifications Done:</label>
            <input type="text" id="certifications" name="certifications" required>
            <label for="lang">Languages Known:</label>
            <input type="text" id="lang" name="lang" required>
            <button type="submit">Submit</button>
            <button type="reset">Reset</button>
        </form>
    </div>
    <footer>
        <p>&copy; Placement Cell, KEC</p>
    </footer>

    <script>
        async function submitForm(event) {
            event.preventDefault();

            const form = document.getElementById('placementform');
            const formData = new FormData(form);
            const jsonData = {};

            formData.forEach((value, key) => {
                jsonData[key] = value;
            });

            try {
                const response = await fetch('http://localhost:3000/add-student', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(jsonData),
                });

                const result = await response.json();
                alert(result.message);
                form.reset();
            } catch (error) {
                console.error('Error:', error);
                alert('Failed to submit data');
            }
        }
    </script>
</body>
</html>
